/* Instructions
1) Click Raw button at upper right
2) Copy everything below these instructions (starting with data:text ) and save as a a bookmark on your Bookmarks bar.
3) In the bookmark's Name field, name it something like Textarea String Counter and JS Converter
4) In the bookmark's URL field, that's where you're pasting this long code line starting with data:text
5) Once saved that way in your bookmarks, select it whenever you want a largely-blank textarea to appear in a new tab on your screen, and in it you can type/paste/edit search strings or even JavaScript. It provides a real-time counter for both words and characters AND shows textbox areas below where it auto-converts your JavaScript (if you typed/pasted that rather than a search string) to bookmarklet format, or from a bookmarklet to regular reader-friendly JS code with one statement per line
*/

data:text/html,<html><head><script>function countChars(obj){var words= obj.value.match(/\S+/g).length;document.getElementById("charNum").innerHTML = 'original script has '+obj.value.length+' characters and '+words+' words';}function set1Line(obj) {var oneLiner = document.getElementById("origScript").value.replace(/\s/gm," ");document.getElementById("box2").value = oneLiner;}function fixMrColes(obj) {var fixer = document.getElementById("origScript").value;var coded=decodeURIComponent(fixer);document.getElementById("box3").value = coded;}function prettify(obj) {var readable = document.getElementById("origScript").value; var splitter = String.fromCharCode(123); var joiner = String.fromCharCode(123) + '\n\n'; var newer = readable.split(splitter); var newest = newer.join(joiner);document.getElementById("box4").value = newest;}</script></head><body><p id="charNum">0 characters and 0 words</p><form>Type or paste search string or multi-line bookmarklet below:<br><textarea id="origScript" rows="8" style="width: 1000px;height: 200px;" wrap="soft" onkeyup="countChars(this);"></textarea><br>Click below to remove line breaks from above (if normal JS code to convert to bookmarklet):</br><textarea id="box2" rows="8" style="width: 1000px;height: 200px;" wrap="soft" onfocus="set1Line(this);"></textarea><br>Click below to reformat top textarea (if was a MrColes-formatted bookmarklet) to normal JS code:</br><textarea id="box3" rows="8" style="width: 1000px;height: 200px;" wrap="soft" onfocus="fixMrColes(this);"></textarea><br>Click below to reformat top textarea here (if was a 1-liner compressed JS bookmarklet):</br><textarea id="box4" rows="8" style="width: 1000px;height: 200px;" wrap="soft" onfocus="prettify(this);"></textarea></form></body></html>
